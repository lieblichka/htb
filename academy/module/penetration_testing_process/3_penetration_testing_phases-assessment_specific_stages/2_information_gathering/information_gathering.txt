*** Information Gathering
Сбор информации
	
	- После того, как предварительный этап завершен и все стороны подписали все
	условия договора, information gatheringфаза начинается. Сбор информации
	является неотъемлемой частью любой оценки безопасности. На этом этапе мы
	собираем всю доступную информацию о компании, ее сотрудниках и
	инфраструктуре, а также о том, как они организованы. Сбор информации —
	наиболее частый и важный этап в процессе тестирования на проникновение, к
	которому мы будем возвращаться снова и снова. 

		~~~___ LINK ___~~~ 0-PT-Process-IG.png


	- Все шаги, которые мы предпринимаем для использования уязвимостей, основаны
	на информации, которую мы собираем о наших целях. Этот этап можно считать
	краеугольным камнем любого теста на проникновение. Мы можем получить
	необходимую информацию, относящуюся к нам, разными способами. Тем не менее,
	мы можем разделить их на следующие категории:

		Интеллект с открытым исходным кодом
		Перечень инфраструктуры
		Перечень услуг
		Перечисление хостов

	- Все четыре категории должны и должны быть выполнены нами для каждого теста
	на проникновение. Это потому, что informationявляется основным компонентом,
	который приводит нас к успешному тестированию на проникновение и выявлению
	уязвимостей безопасности. Мы можем получить эту информацию где угодно, будь
	то в социальных сетях, объявлениях о вакансиях, отдельных хостах и серверах
	или даже у сотрудников. Информация постоянно распространяется и
	распространяется повсюду.

	В конце концов, мы, люди, общаемся, обмениваясь информацией, но сетевые
	компоненты и службы общаются аналогичным образом. Любой обмен информацией
	всегда имеет конкретную цель. Для компьютерных сетей целью всегда является
	запуск определенного процесса. Будь то хранение данных в базе данных,
	регистрация, создание определенных значений или пересылка информации. 

	### Open-Source Intelligence
	Интеллект с открытым исходным кодом
		
		Предположим, что наш клиент хочет, чтобы мы увидели, какую информацию о
		его компании мы можем найти в Интернете. Для этой цели мы используем то,
		что известно как Open Source Intelligence( OSINT). OSINT — это процесс
		поиска общедоступной информации о целевой компании или отдельных лицах,
		который позволяет идентифицировать события (например, публичные и
		частные встречи), внешние и внутренние зависимости и связи. OSINT
		использует общедоступную (с открытым исходным кодом) информацию из
		свободно доступных источников для получения желаемых результатов. Мы
		часто можем найти относящуюся к безопасности и конфиденциальную
		информацию от компаний и их сотрудников. Обычно люди, которые делятся
		такой информацией, не знают, что они не единственные, кто может получить
		к ней доступ.

		Можно найти очень важную информацию, такую как пароли, хэши, ключи,
		токены и многое другое, что может дать нам доступ к сети всего за
		несколько минут. Репозитории на таких сайтах, как Github или других
		платформах разработки, часто настроены неправильно, и внешние
		наблюдатели могут видеть эту информацию. Если этот тип конфиденциальной
		информации обнаружен в начале тестирования, в разделе RoE «Обработка
		инцидентов и отчеты» должна быть описана процедура сообщения об этих
		типах критических уязвимостей безопасности. Публично опубликованные
		пароли или ключи SSH представляют собой критическую брешь в
		безопасности, если они еще не были удалены или изменены. Поэтому
		администратор нашего клиента должен проверить эту информацию, прежде чем
		мы продолжим.
			
			https://github.com/

		# Private and Public SSH Keys
		Закрытый и открытый SSH-ключи
			
			~~~___ LINK ___~~~ img/searchcode3.png

			Разработчики часто публикуют целые разделы кода на StackOverflow ,
			чтобы показать другим разработчикам более полное представление о
			том, как работает их код, чтобы помочь им решить свои проблемы.
			Такую информацию также можно очень быстро найти и использовать
			против компании. Наша задача найти такие дыры в безопасности и
			закрыть их. Мы можем узнать гораздо больше из OSINT: Corporate Recon
			модуля . В нем показано множество различных методов, как мы можем
			найти такую информацию.
				
				https://stackoverflow.com/
				
				https://academy.hackthebox.com/course/preview/osint-corporate-recon

	### Infrastructure Enumeration
	Перечень инфраструктуры
		
		- Во время перебора инфраструктуры мы пытаемся оценить положение компании
		в Интернете и интранете. Для этого используем OSINT и первые активные
		сканы. Мы используем такие службы, как DNS, для создания карты серверов
		и хостов клиента и понимания того, как их infrastructureструктурирован.
		Сюда входят серверы имен, почтовые серверы, веб-серверы, облачные
		экземпляры и многое другое. Мы составляем точный список хостов и их
		IP-адресов и сравниваем их с нашей областью, чтобы увидеть, включены ли
		они в список.

		На этом этапе мы также пытаемся определить меры безопасности компании.
		Чем точнее будет эта информация, тем легче будет замаскировать наши
		атаки ( Evasive Testing). Но идентификация брандмауэров, таких как
		брандмауэры веб-приложений, также дает нам отличное понимание того,
		какие методы могут вызвать тревогу для нашего клиента и какие методы
		можно использовать, чтобы избежать этой тревоги.

		Здесь также не имеет значения, «где» мы находимся, пытаемся ли мы
		получить обзор инфраструктуры извне ( external) или осмотр
		инфраструктуры изнутри ( internal) сети. Перечисление внутри сети дает
		нам хороший обзор хостов и серверов, которые мы можем использовать в
		качестве целей для Password Sprayingатака, в которой мы используем один
		пароль для аутентификации с максимально возможным количеством разных
		имен пользователей, надеясь, что одна успешная попытка аутентификации
		даст нам точку опоры в сети. Все эти методы и приемы, используемые для
		этой цели, будут более подробно рассмотрены в отдельных модулях.


	### Service Enumeration
	Перечень услуг

		В перечислении сервисов мы идентифицируем сервисы, которые позволяют нам
		взаимодействовать с хостом или сервером по сети (или локально, с
		внутренней точки зрения). Поэтому крайне важно узнать об услуге, что
		versionэто то, что informationэто обеспечивает нас, и reasonего можно
		использовать. Как только мы поймем предысторию того, для чего была
		предоставлена эта служба, можно сделать некоторые логические выводы,
		чтобы предоставить нам несколько вариантов.

		У многих служб есть история версий, которая позволяет нам определить,
		является ли установленная версия на хосте или сервере действительно
		актуальной или нет. Это также поможет нам найти уязвимости безопасности,
		которые в большинстве случаев остаются в более старых версиях. Многие
		администраторы боятся менять работающие приложения, так как это может
		повредить всей инфраструктуре. Поэтому администраторы часто предпочитают
		рисковать, оставляя одну или несколько уязвимостей открытыми и сохраняя
		функциональность, вместо того, чтобы закрывать бреши в безопасности. 

	### Host Enumeration
	Перечисление хостов
		
		Когда у нас есть подробный список инфраструктуры клиента, мы проверяем
		каждый отдельный хост, указанный в аналитическом документе. Мы пытаемся
		определить, какие operating systemработает на хосте или сервере, который
		servicesон использует, который versionsуслуг и многое другое. Опять же,
		помимо активного сканирования, мы также можем использовать различные
		методы OSINT, чтобы сообщить нам, как этот хост или сервер может быть
		настроен.

		Мы можем найти множество различных сервисов, таких как FTP-сервер,
		который компания использует для обмена данными между сотрудниками и даже
		разрешает анонимный доступ. Даже сегодня есть много хостов и серверов,
		которые производители больше не поддерживают. Однако для этих старых
		версий операционных систем и сервисов по-прежнему обнаруживаются
		уязвимости, которые затем остаются и подвергают опасности всю
		инфраструктуру нашего клиента.

		Здесь не имеет значения, проверяем ли мы каждый хост или сервер снаружи
		или изнутри. Однако с внутренней точки зрения мы обнаружим службы,
		которые часто недоступны извне. Поэтому многие администраторы становятся
		небрежными и часто считают эти службы «безопасными», потому что они не
		доступны напрямую из Интернета. Таким образом, здесь часто
		обнаруживается множество неправильных конфигураций из-за этих
		предположений или небрежных практик. При перечислении хостов мы пытаемся
		определить, какую роль играет этот хост или сервер и с какими сетевыми
		компонентами он взаимодействует. Кроме того, мы также должны определить,
		какие servicesон использует для этой цели и на котором portsони
		расположены.

		Во время внутреннего перечисления хостов, которое в большинстве случаев
		происходит после успешного Exploitationодной или нескольких уязвимостей,
		мы также исследуем хост или сервер изнутри. Это означает, что мы ищем
		чувствительные files, местный services, scripts, applications,
		informationи другие вещи, которые можно хранить на хосте. Это также
		неотъемлемая часть Post-Exploitationфаза, где мы пытаемся использовать и
		повышать привилегии.

	### Pillaging
	мародерство
		
		Другим важным шагом является Pillaging. После удара по
		Post-ExploitationЭтап мародерства выполняется для локального сбора
		конфиденциальной информации на уже эксплуатируемом хосте, такой как
		имена сотрудников, данные о клиентах и многое другое. Однако сбор этой
		информации происходит только после использования целевого хоста и
		получения доступа к нему.

		Информация, которую мы можем получить об эксплуатируемых хостах, может
		быть разделена на множество различных категорий и сильно различается.
		Это зависит от назначения хоста и его положения в корпоративной сети.
		Администраторы, принимающие меры безопасности для этих хостов, также
		играют значительную роль. Тем не менее, такая информация может показать
		impactпотенциальной атаки на нашего клиента и использоваться для
		дальнейших шагов по escalate our privilegesили же move laterallyдальше в
		сети.

			[] Обратите внимание, что HTB Academyне имеет модуля, явно
			ориентированного на мародерство.

		- Это сделано намеренно по причинам, которые мы объясним здесь. Само по
		себе разграбление — это не этап или подкатегория, как многие часто
		описывают, а неотъемлемая часть этапов сбора информации и повышения
		привилегий, которые неизбежно выполняются локально на целевых системах.

			Pillaging is explained in other modules separately, where we
			consider the corresponding steps valuable and necessary.

		Вот небольшой список модулей, где Pillagingрассматривается, но эта тема будет затронута и во многих других модулях:

			Network Enumeration with Nmap
			Getting Started
			Password Attacks
			Active Directory Enumeration & Attacks
			Linux Privilege Escalation
			Windows Privilege Escalation
			Attacking Common Services
			Attacking Common Applications
			Attacking Enterprise Networks

		- Мы будем взаимодействовать с более чем 150 targetsво время Пути работы
		тестировщика на проникновение и провести девять смоделированных мини-тестов
		на проникновение, что дает нам множество возможностей поработать над этой
		темой и попрактиковаться в ней. Кроме того, модули, специфичные для
		операционной системы, следует рассматривать с точки зрения мародерства,
		потому что большая часть того, что показано в этих модулях, может
		использоваться для поиска информации или повышения привилегий в целевых
		системах.



